"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPKGInfo = void 0;
const path_1 = require("path");
const fs_1 = require("fs");
const infoMap = new Map();
function getPKGInfo() {
    const projectPath = process.env.PROJECT_PATH || '';
    const existingPKGInfo = infoMap.get(projectPath);
    if (existingPKGInfo) {
        return existingPKGInfo;
    }
    try {
        const info = JSON
            .parse((0, fs_1.readFileSync)((0, path_1.join)(process.cwd(), projectPath, './package.json'), { encoding: 'utf8' }));
        infoMap.set(projectPath, info);
        return info;
    }
    catch (e) {
        return undefined;
    }
}
exports.getPKGInfo = getPKGInfo;
