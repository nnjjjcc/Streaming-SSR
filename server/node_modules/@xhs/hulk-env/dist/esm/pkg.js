import { join } from 'path';
import { readFileSync } from 'fs';
const infoMap = new Map();
export function getPKGInfo() {
    const projectPath = process.env.PROJECT_PATH || '';
    const existingPKGInfo = infoMap.get(projectPath);
    if (existingPKGInfo) {
        return existingPKGInfo;
    }
    try {
        const info = JSON
            .parse(readFileSync(join(process.cwd(), projectPath, './package.json'), { encoding: 'utf8' }));
        infoMap.set(projectPath, info);
        return info;
    }
    catch (e) {
        return undefined;
    }
}
